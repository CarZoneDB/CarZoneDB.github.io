<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CarZoneDB - Home</title>
  <meta name="description" content="Database for cars, races, and more in the Roblox experience Car Zone."/>
<meta name="keywords" content="Car Zone stats, Car Zone car list, Car Zone vehicles, Car Zone Roblox cars, Car Zone database, Car Zone horsepower, Car Zone top speed, Car Zone acceleration, Car Zone prices, Car Zone limited cars, Car Zone gamepass cars, Car Zone fastest car, Car Zone best car, Roblox Car Zone stats">
  <link rel="icon" href="https://raw.githubusercontent.com/CarZoneDB/CarZoneDB.github.io/refs/heads/main/favicon.png" />
  <link rel="stylesheet" href="../base.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <nav id="navbar">
    <ul>
      <li class="logo">CarZoneDB</li>
<li><a href="/home">Home</a></li>
<li><a href="/cars">Cars</a></li>
<li><a href="/races">Races</a></li>
    </ul>
  </nav>

  <main class="sect">
    <img src="https://raw.githubusercontent.com/CarZoneDB/CarZoneDB.github.io/refs/heads/main/favicon.png" 
         alt="CarZone Logo">
    <h1>Welcome to the Car Zone Database</h1>
    <p>
<p>
A fan-created database for the Roblox experience 
<a href="https://www.roblox.com/games/80200604311136/" target="_blank" rel="noopener" style="color: #8E5CF6;">
  <strong>Car Zone</strong></a>, providing searchable and filterable information about cars, races, and other game content.

<p>
  <a href="/cars" class="browse-btn" style="margin-right: 10px;">Browse Cars</a>
  <a href="/races" class="browse-btn">Browse Races</a>
</p>
    
</p>
    </p>
    <p id="stats"></p>
  </main>

  <footer>
    <p>
      Not affiliated with or endorsed by 
      <a id="pageOpen" href="https://www.roblox.com/games/80200604311136/" target="_blank" rel="noopener">Car Zone</a>.
    </p>
    <p>
      Contact me on Discord if there are any issues: 
      <button id="discordUsername" aria-label="Copy Discord username" title="Click to copy">flamespill</button>
    </p>
  </footer>

  <script>
    const currentFolder = location.pathname.split("/")[1];
    document.querySelectorAll("#navbar a").forEach(link => {
      if (link.getAttribute("href").replace("/", "") === currentFolder) {
        link.classList.add("active");
      }
    });

    document.getElementById('discordUsername').addEventListener('click', () => {
      navigator.clipboard.writeText('flamespill')
        .then(() => alert('Discord Username has been copied to clipboard'))
        .catch(console.error);
    });

Promise.all([
    fetch('https://raw.githubusercontent.com/CarZoneDB/CarZoneDB.github.io/refs/heads/main/czgameinfo/cars.json').then(res => res.json()),
    fetch('https://raw.githubusercontent.com/CarZoneDB/CarZoneDB.github.io/refs/heads/main/czgameinfo/races.json').then(res => res.json())
  ])
  .then(([carData, raceData]) => {

    const totalCars = Object.values(carData).filter(car => car.CarName).length;
    const totalRaces = Object.keys(raceData).filter(key => key !== 'lastUpdated').length;

    const lastUpdated = raceData.lastUpdated ? new Date(raceData.lastUpdated) : null;

    const formattedDate = lastUpdated
      ? new Intl.DateTimeFormat('en-US', { month: 'short', day: 'numeric', year: 'numeric' }).format(lastUpdated)
      : 'Unknown';

    document.getElementById('stats').innerHTML = `
      Currently keeping track of 
      <span style="color:#8E5CF6; font-weight:bold;">
        ${totalCars.toLocaleString()}
      </span> cars and 
      <span style="color:#8E5CF6; font-weight:bold;">
        ${totalRaces.toLocaleString()}
      </span> races in the game â€” and counting.<br>
      Database Last Updated: 
      <span style="color:#8E5CF6; font-weight:bold;">
        ${formattedDate}
      </span>
    `;

  })
  .catch(err => {
    document.getElementById('stats').textContent = 'Failed to load stats.';
    console.error(err);
  });
  

  </script>

</body>
</html>
